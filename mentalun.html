<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Духовное единство человечества </title>
</head>

<style> #My_Earth {position: absolute; width: 55px; height: 55px;} </style>
<style> #My_Sun {position: absolute; width: 145px; height: 145px;} </style>
<!--Состояния:--> 
<!--№№1 - Главное окно:--> <!--№№ 2 - Регистрация нового авторизованного пользователя-->
<!--№№ 3 - Анализ поликультурного мира--> <!--№№ 4 - Редактирование данных о поликультурном мире-->
<!--№№ 5 - История и портфолио--> <!--№№ 6 - Выполнение заданий--> <!--№№ 7 - Генерация заданий--> 
<!--№№ 8 - Интерактивный сад мудростей--> <!--№№ 9 - Интерактивная галерея мудростей-->

<!--Установим визуальные компоненты для состояний №№ 1-->
<body>
  <div id="div_for_1">
  <address>Научный центр "Духовое единство человечества". Адрес: Москва, ул. Александры Монаховой, 80/3.</address>
  <address>Контактное лицо: кандидат педагогических наук Романов Дмитрий Александрович</address>
  <address>Электронный адрес: romanovs-s@yandex.ru</address>
  <address>Представитель контактного лица: Романова Татьяна Дмитриевна</address>
  <address>Веб-сайт посвящён моим Учителям:</address>
  <address>Доктору технических наук, профессору, заслуженному изобретателю СССР Ключко Владимиру Игнатьевичу</address>
  <address>Кандидату исторических наук, доценту Потокову Нурбию Шумафовичу</address>

  <p><button onclick="Inform_About()">О веб-сайте "Духовное единство человечества"</button></p>
  <p><button onclick="ToState2()">Зарегистрироваться</button></p>
  <p><button id="AllowZadan" onclick="ToState6()">Выполнение учебных заданий</button></p>
  <p><button onclick="ToState3()">Анализ поликультурного мира</button></p>
  <p><button id="AllowPortfolio" onclick="ToState5()">История и портфолио</button></p>
  <p><button id="AllowAddition" onclick="ToState4()">Редактирование данных о поликультурном мире</button></p>
  <p><button id="AllowGenerate" onclick="ToState7()">Генерация заданий</button></p>
  <p><button onclick="ToState8()">Сад мудростей</button></p>
  <p><button onclick="ToState9()">Галерея мудростей</button></p>

  <p> <input placeholder="Введите имя пользователя" id="user_name_inp" required>
    <input type="password" placeholder="Введите пароль" id="user_password_inp" required> </p>
  <p> <button id="btn1" onclick="Verify()">Авторизоваться</button>
    <button id="btn2" onclick="Exit_Profil()">Выйти из профиля</button> </p>
  <p> <b id="About_user">Ваш статус: гость</b> </p>
  <p> <b id="Nic_Name_user">Имя пользователя: Гость</b>  </p>
  <p> <b id="Date_user">Дата и время входа в профиль:</b>  </p>
</div>
<!--Установили визуальные компоненты для состояний №№ 1-->

<!--Установим визуальные компоненты для состояний №№ 2-->
<div id="div_for_2">
  <p> <input placeholder="Введите имя пользователя" id="user_name_inppp" required>
     <input type="password" placeholder="Введите пароль" id="user_password_inppp" required>
     <input type="password" placeholder="Повторите пароль" id="user_password_inpppp" required> </p>
   <p> <button onclick="Get_Registration()">Подтвердить регистрацию</button>
      <button onclick="ToState1()">Вернуться на главную</button> </p>     
</div>
<!--Установили визуальные компоненты для состояний №№ 2-->

<!--Установим визуальные компоненты для состояний №№ 3-->
<div><p>
    <button id="btn3_1" onclick="Analyze_Cult()">Проанализировать</button>
    <button id="btn3_2" onclick="Ref_Culture()">Полезные ссылки</button>
    <button id="btn3_3" onclick="Analyze_Humanity()">Анализ поликультурного пространства</button>
    <button id="btn3_4" onclick="ToState1()">Вернуться на главную</button>
</p></div>
<!--Установили визуальные компоненты для состояний №№ 3-->

<!--Установим визуальные компоненты для состояний №№ 4-->
<form id="form4_1">
   <p><select name="Culture_added" onchange="Select_Info1(this.form)">
   <option>Выберите культуру</option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>   <option></option> <option></option> <option></option> <option></option>
   //Vsego 200
   </select>
   <input type="button" value="OK" onClick="Select_Info1(this.form)"></p>
</form>
<form id="form4_2">
   <p><select name="Proverb_added" onchange="Select_Info2(this.form)">
   <option>Выберите пословицу</option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>
      //Vsego 300
   </select>
   <input type="button" value="OK" onClick="Select_Info2(this.form)"></p>
</form>

<form id="form4_3">
   <p><select name="Sense_added" onchange="Select_Info3(this.form)">
   <option>Выберите общий смысл</option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>    <option></option> <option></option> <option></option> <option></option>
   <option></option> <option></option> <option></option> <option></option>
   <!--Vsego 100-->
   </select>
   <input type="button" value="OK" onClick="Select_Info3(this.form)"></p>
</form>

<div>
<p> <button id="btn4_1" onclick="Add_Culture()">Добавить культуру</button>
<input placeholder="Введите ещё одну культуру" id="favor_culture" required> </p>
<p> <button id="btn4_2" onclick="Add_Reference1()">Добавить ссылку на файл или гиперссылку</button>
<input placeholder="Введите ещё одну ссылку на файл или гиперссылку" id="favor_refer1" required> </p>
<p> <a id="hss1"></a> </p> 
<p> <button id="btn4_4" onclick="Add_Proverb()">Добавить пословицу</button>
<input placeholder="Введите ещё одну пословицу" id="favor_proverb" required> </p>
<p> <button id="btn4_5" onclick="Add_Sense()">Добавить смысл</button>
<input placeholder="Введите ещё один смысл" id="favor_sense" required> </p>
<p> <button id="btn4_6" onclick="Add_Link_Proverb_Sense()">Добавить аффилиацию пословицы и смысла</button> </p>
<p> <button id="btn4_7" onclick="Delete_Link_Proverb_Sense()">Удалить аффилиацию пословицы и смысла</button> </p>
<p> <button id="btn4_8" onclick="Backward1()">Предыдущая</button>
<button id="btn4_9" onclick="Forward1()">Следующая</button> </p>
<p> <button id="btn4_10" onclick="ToState1()">На главную</button> </p>
<p> <output id="vizhu1">Смысл</output> </p>
<p> <output id="vizhu2">Пословица</output> </p>
</div>   
<!--Установили визуальные компоненты для состояний №№ 4-->

<!--Установим визуальные компоненты для состояний №№ 6-->
<div>
<button id="btn6_0" onclick="ToState1()">На главную</button>
<button onclick="StartTest()"  id="btn6_1">Начинаем тест?</button>
<button onclick="FinishTest()" id="btn6_2">Завершаем тест?</button>
<button onclick="Next_Task()"  id="btn6_3">Следующее задание</button>
<button onclick="Prev_Task()"  id="btn6_4">Предыдущее задание</button>

<form id="form_radio1">
  <p>
     <a id="for_text0"> </a>
  </p>
  <p>
  <input type="radio" name="var_answ" id="var_answ1" value=1>   <a id="for_text1">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ2" value=2>   <a id="for_text2">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ3" value=3>   <a id="for_text3">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ4" value=4>   <a id="for_text4">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ5" value=5>   <a id="for_text5">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ6" value=6>   <a id="for_text6">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ7" value=7>   <a id="for_text7">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ8" value=8>   <a id="for_text8">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ9" value=9>   <a id="for_text9">  </a> <Br>
  <input type="radio" name="var_answ" id="var_answ10" value=10> <a id="for_text10"> </a> <Br>
  <input type="radio" name="var_answ" id="var_answ11" value=11> <a id="for_text11"> </a> <Br>
  <input type="radio" name="var_answ" id="var_answ12" value=12> <a id="for_text12"> </a> <Br>
  </p>
 </form>

</div>
<!--Установили визуальные компоненты для состояний №№ 6-->

<!--Установим визуальные компоненты для состояний №№ 7-->
<div>
<p><button id="btn7_1" onclick="ToState1()">На главную</button>
   <button id="btn7_2" onclick="ToState3()">К анализу культур</button>
   <button id="btn7_3" onclick="ToState8()">В сад мудростей</button>
   <button id="btn7_4" onclick="ToState9()">В галерею культур</button>
   <button id="btn7_5" onclick="Generate_Tasks()">Сгенерировать заготовки</button>  </p>  
</div>
<!--Установили визуальные компоненты для состояний №№ 7-->

<!--Установим визуальные компоненты для состояний №№ 8-->
<div id="div_for_8">
  <p><button onclick="ToState1()">На главную</button>
     <button onclick="ToState3()">К анализу культур</button>
     <button onclick="ToState9()">В галерею культур</button>  
     <button onclick="ToState8()">В сад мудростей</button> </p>
     <button onclick="My_next()">Следующий</button>
     <button onclick="My_previous()">Предыдущий</button>
</div>
<div>
  <img id="img1" onclick="Reflect_Img(1)"> <img id="img2" onclick="Reflect_Img(2)"> <img id="img3" onclick="Reflect_Img(3)">
  <img id="img4" onclick="Reflect_Img(4)"> <img id="img5" onclick="Reflect_Img(5)"> <img id="img6" onclick="Reflect_Img(6)">
  <a id="a__1"></a> <a id="a__2"></a> <a id="a__3"></a> <a id="a__4"></a> <a id="a__5"></a> <a id="a__6"></a>
</div>
<!--Установили визуальные компоненты для состояний №№ 8-->
  
<!--Установим визуальные компоненты для состояний №№ 9-->
<div id="div_for_9">
<p><button onclick="ToState1()">На главную</button>
   <button onclick="ToState3()">К анализу культур</button>
   <button onclick="ToState8()">В сад мудростей</button>
   <button onclick="ToState9()">В галерею культур</button>  </p>
   <button onclick="My_next()">Следующий</button>
   <button onclick="My_previous()">Предыдущий</button>
</div>
<!--Установили визуальные компоненты для состояний №№ 9-->
<!--///////////////////////////////////////////////////////////// Завершили разметку визуальных компонентов-->
<!--Далее начнём делать конкретные действия-->
<body>
  <div>
    <img src="earth_My1.gif" alt="Earth" id="My_Earth">
    <img src="hot_sun.gif" alt="Sun" id="My_Sun">
  </div>
  <script>
    // Это будет скрипт для состояний №№ 1!
    // Делаем начальные установки и идентифицируем визуальные компоненты
    // Идентифицируем компоненты для состояний №№ 1
    let div_for_1=document.getElementById("div_for_1"); let AllowZadan=document.getElementById("AllowZadan");
    let AllowAddition=document.getElementById("AllowAddition"); let AllowGenerate=document.getElementById("AllowGenerate");
    let AllowPortfolio=document.getElementById("AllowPortfolio");
    let About_user=document.getElementById("About_user"); let Date_user=document.getElementById("Date_user");
    let Nic_Name_user=document.getElementById("Nic_Name_user"); let user_name_inp=document.getElementById("user_name_inp");
    let user_password_inp=document.getElementById("user_password_inp");
    let btn1=document.getElementById("btn1"); let btn2=document.getElementById("btn2");
    // Идентифицировали все визуальные компоненты для состояний №№ 1

    // Идентифицируем компоненты для состояний №№ 2
    let div_for_2=document.getElementById("div_for_2");
    let user_name_inppp=document.getElementById("user_name_inppp");
    let user_password_inppp=document.getElementById("user_password_inppp");
    let user_password_inpppp=document.getElementById("user_password_inpppp");

    // Идентифицировали все визуальные компоненты для состояний №№ 2

    // Идентифицируем компоненты для состояний №№ 3
    let btn3_1=document.getElementById("btn3_1"); let btn3_3=document.getElementById("btn3_3"); 
    let btn3_4=document.getElementById("btn3_4"); let btn3_2=document.getElementById("btn3_2");
    // Идентифицировали все визуальные компоненты для состояний №№ 3

    // Идентифицируем компоненты для состояний №№ 4
    let vizhu1=document.getElementById("vizhu1"); let vizhu2=document.getElementById("vizhu2");
    let form4_1=document.getElementById("form4_1");
    let form4_2=document.getElementById("form4_2");
    let form4_3=document.getElementById("form4_3");
    let favor_culture=document.getElementById("favor_culture");
    let favor_proverb=document.getElementById("favor_proverb");
    let favor_sense=document.getElementById("favor_sense");
    let favor_refer1=document.getElementById("favor_refer1");
    let hss1=document.getElementById("hss1"); let btn4_4=document.getElementById("btn4_4");
    let btn4_1=document.getElementById("btn4_1"); let btn4_2=document.getElementById("btn4_2");
    let btn4_5=document.getElementById("btn4_5"); let btn4_6=document.getElementById("btn4_6");
    let btn4_7=document.getElementById("btn4_7"); let btn4_8=document.getElementById("btn4_8");
    let btn4_9=document.getElementById("btn4_9"); let btn4_10=document.getElementById("btn4_10");
    // Идентифицировали все визуальные компоненты для состояний №№ 4

    // Идентифицируем компоненты для состояний №№ 6
    let form_radio1=document.getElementById("form_radio1");
    let arr1=new Array(); let arr2=new Array();
    let btn6_0=document.getElementById("btn6_0"); let btn6_1=document.getElementById("btn6_1");
    let btn6_2=document.getElementById("btn6_2"); let btn6_3=document.getElementById("btn6_3");
    let btn6_4=document.getElementById("btn6_4");
    //
    let for_text0=document.getElementById("for_text0");   let max_radio=12;
    let for_text1=document.getElementById("for_text1");   let for_text2=document.getElementById("for_text2"); 
    let for_text3=document.getElementById("for_text3");   let for_text4=document.getElementById("for_text4");
    let for_text5=document.getElementById("for_text5");   let for_text6=document.getElementById("for_text6"); 
    let for_text7=document.getElementById("for_text7");   let for_text8=document.getElementById("for_text8");
    let for_text9=document.getElementById("for_text9");   let for_text10=document.getElementById("for_text10"); 
    let for_text11=document.getElementById("for_text11"); let for_text12=document.getElementById("for_text12");
    //
    let var_answ1=document.getElementById("var_answ1");   let var_answ2=document.getElementById("var_answ2");
    let var_answ3=document.getElementById("var_answ3");   let var_answ4=document.getElementById("var_answ4");
    let var_answ5=document.getElementById("var_answ5");   let var_answ6=document.getElementById("var_answ6");
    let var_answ7=document.getElementById("var_answ7");   let var_answ8=document.getElementById("var_answ8");
    let var_answ9=document.getElementById("var_answ9");   let var_answ10=document.getElementById("var_answ10");
    let var_answ11=document.getElementById("var_answ11"); let var_answ12=document.getElementById("var_answ12");
    //
    arr1[1]=var_answ1; arr1[2]=var_answ2; arr1[3]=var_answ3; arr1[4]=var_answ4;   arr1[5]=var_answ5;   arr1[6]=var_answ6;
    arr1[7]=var_answ7; arr1[8]=var_answ8; arr1[9]=var_answ9; arr1[10]=var_answ10; arr1[11]=var_answ11; arr1[12]=var_answ12;
    arr2[1]=for_text1; arr2[2]=for_text2; arr2[3]=for_text3; arr2[4]=for_text4;   arr2[5]=for_text5;   arr2[6]=for_text6;
    arr2[7]=for_text7; arr2[8]=for_text8; arr2[9]=for_text9; arr2[10]=for_text10; arr2[11]=for_text11; arr2[12]=for_text12;    
    ///////////////////////

    // Идентифицировали все визуальные компоненты для состояний №№ 5

    // Идентифицируем компоненты для состояний №№ 7
    let btn7_1=document.getElementById("btn7_1"); let btn7_2=document.getElementById("btn7_2");
    let btn7_3=document.getElementById("btn7_3"); let btn7_4=document.getElementById("btn7_4");
    let btn7_5=document.getElementById("btn7_5");
    // Идентифицировали все визуальные компоненты для состояний №№ 5

    // Идентифицируем компоненты для состояний №№ 8
    let div_for_8=document.getElementById("div_for_8");    
    let img1=document.getElementById("img1"); let img2=document.getElementById("img2"); let img3=document.getElementById("img3");
    let img4=document.getElementById("img4"); let img5=document.getElementById("img5"); let img6=document.getElementById("img6");
    let a__1=document.getElementById("a__1"); let a__2=document.getElementById("a__2"); let a__3=document.getElementById("a__3");
    let a__4=document.getElementById("a__4"); let a__5=document.getElementById("a__5"); let a__6=document.getElementById("a__6");
    let img_my=new Array(7); let a_my=new Array(7); let state_img=new Array(7);
    img_my[1]=img1; img_my[2]=img2; img_my[3]=img3; img_my[4]=img4; img_my[5]=img5; img_my[6]=img6;
    a_my[1]=a__1; a_my[2]=a__2; a_my[3]=a__3; a_my[4]=a__4; a_my[5]=a__5; a_my[6]=a__6; 
    for (let i=1;i<=6;i++)
    {
      img_my[i].hidden=true; a_my[i].hidden=true; state_img[i]=0;
    }
    // Идентифицируем компоненты для состояний №№ 9
    let div_for_9=document.getElementById("div_for_9");
    // Идентифицировали все визуальные компоненты для состояний №№ 9

    /////////////////Чтобы Солнце светило, Земля вращается
    let EarthImg=document.getElementById("My_Earth");
    let SunImg=document.getElementById("My_Sun");
    //////////////////////////////////////////////////
    ////////////////////////////////Начальные установки про культуры
    let culture_id=0; let num_sem_equals=14; let num_seman_senses=0;
    let h_holystic=0; let h_system=0; let state=1;
    let culture_adding=0; let proverb_adding=0; let sense_adding=0;
    let current_links_senses_proverbs=0;
    let limit_cultures=200; let limit_proverbs=300; let limit_senses=100;
    let links_senses_proverbs=new Array(); let cultures=new Array();
    let proverbs=new Array(); let senses=new Array(); let references=new Array();
    let h_cultures=new Array(); let params_culturs=new Array();
    let link_sense_cultures=new Array(); let n_links_sense=0;
    ////
    cultures[0]={name_cul:"Русская", cod_cul:1}; cultures[1]={name_cul:"Татарская", cod_cul:2};
    cultures[2]={name_cul:"Немецкая", cod_cul:3}; cultures[3]={name_cul:"Английская", cod_cul:4};
    cultures[4]={name_cul:"Японская", cod_cul:5}; cultures[5]={name_cul:"Еврейская", cod_cul:6};
    cultures[6]={name_cul:"Китайская", cod_cul:7}; cultures[7]={name_cul:"Украинская", cod_cul:8};
    cultures[8]={name_cul:"Ассирийская", cod_cul:9};cultures[9]={name_cul:"Узбекская", cod_cul:10};
    cultures[10]={name_cul:"Азербайджанская", cod_cul:11}; cultures[11]={name_cul:"Армянская", cod_cul:12};
    cultures[12]={name_cul:"Казахская", cod_cul:13}; cultures[13]={name_cul:"Туркменская", cod_cul:14};
    cultures[14]={name_cul:"Абхазская", cod_cul:15}; cultures[15]={name_cul:"Арабская", cod_cul:16};
    ////
    let n_cultures=cultures.length; 
    //////////////////////////////////////
    proverbs[0]={name_prov:"У семи нянек дитя без глазу", cod_cult:1, cod_prov:1}; 
    proverbs[1]={name_prov:"В семье не без урода", cod_cult:1, cod_prov:2}; 
    proverbs[2]={name_prov:"И на старуху бывает проруха", cod_cult:1, cod_prov:3}; 
    proverbs[3]={name_prov:"От копеечной свечи Москва сгорела", cod_cult:1, cod_prov:4}; 
    proverbs[4]={name_prov:"Когда рак на горе свистнет", cod_cult:1, cod_prov:5}; 
    proverbs[5]={name_prov:"Где много пастухов, там все овцы передохнут", cod_cult:2, cod_prov:6}; 
    proverbs[6]={name_prov:"Конь на четырех ногах и тот спотыкается", cod_cult:2, cod_prov:7}; 
    proverbs[7]={name_prov:"Из одного зёрнышка каши не сваришь", cod_cult:2, cod_prov:8}; 
    proverbs[8]={name_prov:"Если у тебя нет лошади - поезжай на осле", cod_cult:3, cod_prov:9}; 
    proverbs[9]={name_prov:"Гнилое яблоко заражает другое", cod_cult:3, cod_prov:10}; 
    proverbs[10]={name_prov:"Гость, как и рыба, свежим остаётся недолго", cod_cult:3, cod_prov:11};
    proverbs[11]={name_prov:"Когда свиньи полетят", cod_cult:4, cod_prov:12};
    proverbs[12]={name_prov:"Когда на корабле много капитанов, он может затонуть", cod_cult:4, cod_prov:13};
    proverbs[13]={name_prov:"Когда много рулевых, корабль на риф налетает", cod_cult:5, cod_prov:14};
    proverbs[14]={name_prov:"И редкий гость на третий день надоест", cod_cult:5, cod_prov:15};
    proverbs[15]={name_prov:"Гость и рыба через три дня начинают попахивать", cod_cult:6, cod_prov:16};
    proverbs[16]={name_prov:"В доме, где много хозяев, гость остаётся голодным", cod_cult:6, cod_prov:17};
    proverbs[17]={name_prov:"Горошина мышиного помёта портит котёл каши", cod_cult:7, cod_prov:18};
    proverbs[18]={name_prov:"Когда много каменщиков, дом получается кривобокий", cod_cult:7, cod_prov:19};
    proverbs[19]={name_prov:"Нет леса без кривого дерева", cod_cult:7, cod_prov:20};
    proverbs[20]={name_prov:"И на мудром черт на Лысую гору ездит", cod_cult:8, cod_prov:21};
    proverbs[21]={name_prov:"На бедного Фому и дерево падает", cod_cult:8, cod_prov:22};
    proverbs[22]={name_prov:"У забитого человека и ссобаки хлеб отбирают", cod_cult:9, cod_prov:23};
    proverbs[23]={name_prov:"Человек после сметри оставляет имя, а бык - шкуру", cod_cult:9, cod_prov:24};
    proverbs[24]={name_prov:"Упустил момент - руби саблей камни", cod_cult:10, cod_prov:25};
    proverbs[25]={name_prov:"Пастухов много - баран подохнет", cod_cult:10, cod_prov:26};
    proverbs[26]={name_prov:"Кто пережил землетрясение, тому пожар не страшен", cod_cult:11, cod_prov:27};
    proverbs[27]={name_prov:"Пока железо в работе, его ржа не берёт", cod_cult:11, cod_prov:28};
    proverbs[28]={name_prov:"Гостям два раза рады: когда они приходят и когда уходят", cod_cult:12, cod_prov:29};
    proverbs[29]={name_prov:"Бедняка всякий уму-разуму учит, да никто ему хлеба не даст", cod_cult:12, cod_prov:30};
    proverbs[30]={name_prov:"У потерянного ножа ручка золотая", cod_cult:13, cod_prov:31};
    proverbs[31]={name_prov:"Неторопливый и на арбе догонит зайца", cod_cult:13, cod_prov:32};
    proverbs[32]={name_prov:"Гость в первый день - золото, во второй - серебро, в третий - медь, а в четвёртый - мерзавец", cod_cult:14, cod_prov:33};
    proverbs[33]={name_prov:"Кому в воду упасть случится, тот дождя уже не боится", cod_cult:14, cod_prov:34};
    proverbs[34]={name_prov:"Одна гнилая груша сто груш сгноит", cod_cult:15, cod_prov:35};
    proverbs[35]={name_prov:"Медведь кусает того, кто его вырастил", cod_cult:15, cod_prov:36};
    proverbs[36]={name_prov:"Когда бык падает, над ним поднимается много ножей", cod_cult:16, cod_prov:37};
    proverbs[37]={name_prov:"Промокший не боится дождя", cod_cult:16, cod_prov:38};
    //
    proverbs[38]={name_prov:"Нет друга - ищи, а нашёл - береги", cod_cult:1, cod_prov:39};
    proverbs[39]={name_prov:"Дом с детьми - базар, а без детей - могила", cod_cult:2, cod_prov:40};
    
    ////
    let n_proverbs=proverbs.length; 
    /////////////
    senses[0]={name_sense:"Много руководящих факторов - это плохо", cod_sense:1}; 
    senses[1]={name_sense:"Меньшее может погубить большее, если оно с изъяном", cod_sense:2}; 
    senses[2]={name_sense:"Долго гостящий гость - это плохо", cod_sense:3}; 
    senses[3]={name_sense:"Когда плохая ситуация, всё и все против тебя", cod_sense:4}; 
    senses[4]={name_sense:"Жизнь не должна быть бесследной", cod_sense:5}; 
    senses[5]={name_sense:"Чего-то нужно много, в единственном экземпляре не имеет значения", cod_sense:6}; 
    senses[6]={name_sense:"Обязательно найдётся что-то плохое даже в массе хорошего", cod_sense:7}; 
 
    ///
    let n_senses=senses.length; 
    ///////////////////
    links_senses_proverbs[0]={cod_l_s_p:1, cod_senser:1, cod_proverb:1};
    links_senses_proverbs[1]={cod_l_s_p:2, cod_senser:1, cod_proverb:6};
    links_senses_proverbs[2]={cod_l_s_p:3, cod_senser:1, cod_proverb:14};
    links_senses_proverbs[3]={cod_l_s_p:4, cod_senser:1, cod_proverb:19};
    links_senses_proverbs[4]={cod_l_s_p:5, cod_senser:1, cod_proverb:26};
    links_senses_proverbs[5]={cod_l_s_p:6, cod_senser:2, cod_proverb:18};
    links_senses_proverbs[6]={cod_l_s_p:7, cod_senser:2, cod_proverb:35};
    links_senses_proverbs[7]={cod_l_s_p:8, cod_senser:3, cod_proverb:33};
    links_senses_proverbs[8]={cod_l_s_p:9, cod_senser:3, cod_proverb:11};
    links_senses_proverbs[9]={cod_l_s_p:10, cod_senser:3, cod_proverb:15};
    links_senses_proverbs[10]={cod_l_s_p:11, cod_senser:4, cod_proverb:37};
    links_senses_proverbs[11]={cod_l_s_p:12, cod_senser:4, cod_proverb:23};
    links_senses_proverbs[12]={cod_l_s_p:13, cod_senser:5, cod_proverb:24};
    links_senses_proverbs[13]={cod_l_s_p:14, cod_senser:6, cod_proverb:8};
    links_senses_proverbs[14]={cod_l_s_p:15, cod_senser:7, cod_proverb:2};
    links_senses_proverbs[15]={cod_l_s_p:16, cod_senser:7, cod_proverb:20};

    ///
    let n_links_senses_proverbs=links_senses_proverbs.length;
    /////////////
    //n_references=n_references+1;
    //let sv5={cod_refer:n_references, cod_cultur:culture_id, name_refer:stroka6};
    //references.push(sv5);
    //alert("Добавлена ссылка: "+stroka6);
    //alert(references[n_references-1].cod_refer); 
    references[0]={cod_refer:1, cod_cultur:1, name_refer:"https://ru.wikiquote.org/wiki/%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B5_%D0%BF%D0%BE%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%86%D1%8B"};
    references[1]={cod_refer:2, cod_cultur:1, name_refer:"https://proza.ru/2015/12/16/1588"};
    references[2]={cod_refer:3, cod_cultur:1, name_refer:"https://nsportal.ru/detskii-sad/vospitatelnaya-rabota/2021/03/20/russkie-narodnye-poslovitsy"};
    references[3]={cod_refer:4, cod_cultur:2, name_refer:"https://ru.wikiquote.org/wiki/%D0%A2%D0%B0%D1%82%D0%B0%D1%80%D1%81%D0%BA%D0%B8%D0%B5_%D0%BF%D0%BE%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%86%D1%8B"};
    references[4]={cod_refer:5, cod_cultur:2, name_refer:"https://www.litres.ru/book/regina-nagimovna-ahmadishina/tatarskie-poslovicy-i-pogovorki-68697036/chitat-onlayn/"};
    references[5]={cod_refer:6, cod_cultur:2, name_refer:"https://proza.ru/2013/05/18/463"};
    references[6]={cod_refer:7, cod_cultur:4, name_refer:"https://ru.wikiquote.org/wiki/%D0%90%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B5_%D0%BF%D0%BE%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D1%86%D1%8B"};
    references[7]={cod_refer:8, cod_cultur:4, name_refer:"https://skyeng.ru/articles/anglijskie-poslovicy-i-pogovorki/"};
    references[8]={cod_refer:9, cod_cultur:4, name_refer:"https://linguapedia.info/ru/english/proverbs-sayings.html"};
    /////
    let n_references=references.length;
    //////////////
     
     let Semant_Equals=[
     [-1, 3, 3, 5, 2, 1, 7, 9, 3, 11,2, 4, 6, 3],
     [-1,-1, 3, 5, 2, 1, 2, 2, 6, 8, 0, 4 ,6, 3],
     [-1,-1,-1, 5, 2, 1, 2, 1, 4, 11,5, 4, 4, 1],
     [-1,-1,-1,-1, 2, 1, 7, 9, 3, 1, 0, 4, 2, 9],
     [-1,-1,-1,-1,-1, 1, 5, 0, 12,1, 2, 4, 6, 3],
     [-1,-1,-1,-1,-1,-1, 7, 3, 5, 1, 2, 14,6, 2],
     [-1,-1,-1,-1,-1,-1,-1, 2, 3, 1, 1, 0, 2, 3],
     [-1,-1,-1,-1,-1,-1,-1,-1, 3, 11,2, 4, 6, 3],
     [-1,-1,-1,-1,-1,-1,-1,-1,-1, 1, 2, 0, 6, 5],
     [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1, 2, 4, 1, 3],
     [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1, 4, 6, 3],
     [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1, 6, 4],
     [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1, 3],
     [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]
    ];
    //Завершили начальные установки про культуры
    let verified=3; //Устанавливаем статус: гость
    ////////////////////
    function ForState1()
    { 
     div_for_1.hidden=false; state=1; SunImg.hidden=false; EarthImg.hidden=false; 
     AllowZadan.hidden=false; AllowAddition.hidden=false;
     AllowGenerate.hidden=false; AllowPortfolio.hidden=false;
     About_user.hidden=false; Nic_Name_user.hidden=false; Date_user.hidden=true;
     user_name_inp.hidden=false; user_password_inp.hidden=false; btn1.hidden=false; btn2.hidden=false; 
    }
    function ClearState1()
    {
     div_for_1.hidden=true; AllowZadan.hidden=true; AllowAddition.hidden=true;
     AllowGenerate.hidden=true; AllowPortfolio.hidden=true;
     About_user.hidden=true; Nic_Name_user.hidden=true; Date_user.hidden=true;
     user_name_inp.hidden=true; user_password_inp.hidden=true; btn1.hidden=true; btn2.hidden=true; 
    }
    function ToState1()
    {
      ClearState2(); ClearState3(); ClearState4(); ClearState6(); ClearState7(); ClearState8(); ClearState9(); 
      ForState1(); SetVerified(verified);
    }
    ToState1();
    // Легитимные пользователи
    let n_legal_users=5; // Начальное число легитимных пользователей
    let legitim_users=new Array(); // Массив легитимных пользователей
    legitim_users[0]={n_name:"First_administrator", cod:1, status:1, password_my:"Papa_molodets!!!"};
    legitim_users[1]={n_name:"Second_administrator", cod:2, status:1, password_my:"papa_Molodets!!!!"};
    legitim_users[2]={n_name:"Dmitry_Romanov", cod:3, status:2, password_my:"dar_dar_dar_1978!"};
    legitim_users[3]={n_name:"Tatiana_Romanova", cod:4, status:2, password_my:"tdr_tdr_tdr_2011!"};
    legitim_users[4]={n_name:"Marina_Romanova", cod:5, status:2, password_my:"rml_rml_rml_1972!"};
    // Есть лигитимные пользователи
    let shifted=4; // Смещено ли изображение относительно "1"
    let cod_us=-1; // Для идентификации кода пользователя, вначале не идентифицирован    
    let n_seanses=0; // Начальное число входов пользователей
    let seanses=new Array(); // Массив сеансов работы легитимных пользователей
    let n_seanses_actions=0; // Начальное число действий легитимных пользователей в сеансах работы
    let seanses_actions=new Array(); // Массив действий легитимных пользоватиелей в сеансах работы
    let cod_seanse=-1;
    ////////////////////////////
    // Теперь задаём параметры для анимации - движения Земли вокруг Солнца
    let step=0; let flag=true; let time_ellipse=-0.03; let delta_t=4;
    let centre_Sun_X=(window.innerWidth-200)/2; let centre_Sun_Y=(window.innerHeight-200)/2;
    SunImg.hidden=false; EarthImg.hidden=false;
    SunImg.style.left=centre_Sun_X+"px"; SunImg.style.top=centre_Sun_Y+"px";    
    let x_opor=centre_Sun_X; let y_opor=window.innerHeight-150;
    // Задали параметры
    function Animation()
    {
      let rad1=(window.innerWidth-150)/2; let rad2=(window.innerHeight-150)/2;
      time_ellipse=time_ellipse+0.0003;
      let step1=rad1*Math.sin(time_ellipse); let step2=rad2*Math.cos(time_ellipse);
      let Earth_X=rad1+step1; let Earth_Y=rad2+step2;
      EarthImg.style.left=Earth_X+"px"; EarthImg.style.top=Earth_Y+"px";
    }
    function ForState2()
    {
       div_for_2.hidden=false; state=2; SunImg.hidden=false; EarthImg.hidden=false; 
       user_name_inppp.hidden=false; user_password_inppp.hidden=false; user_password_inpppp.hidden=false; 
    }
    function ClearState2()
    {
      div_for_2.hidden=true; user_name_inppp.hidden=true; 
      user_password_inppp.hidden=true; user_password_inpppp.hidden=true; 
    }
    function ForState3()
    {
      form4_1.hidden=false; form4_3.hidden=false; state=3; btn3_1.hidden=false; 
      btn3_2.hidden=false; btn3_3.hidden=false; btn3_4.hidden=false; 
      SunImg.hidden=false; EarthImg.hidden=false; Install_Form4_1(); Install_Form4_3();
    }
    function ClearState3()
    {
      form4_1.hidden=true; btn3_1.hidden=true; btn3_2.hidden=true;
      btn3_3.hidden=true; btn3_4.hidden=true;
      SunImg.hidden=false; EarthImg.hidden=false;
    }
    function ClearState4()
    {
      vizhu1.hidden=true; vizhu2.hidden=true;
      form4_1.hidden=true; form4_2.hidden=true; form4_3.hidden=true;
      favor_culture.hidden=true; favor_proverb.hidden=true; favor_sense.hidden=true;
      favor_refer1.hidden=true; btn4_8.hidden=true;
      hss1.hidden=true; btn4_9.hidden=true; btn4_10.hidden=true;
      btn4_1.hidden=true; btn4_2.hidden=true; btn4_4.hidden=true;
      btn4_5.hidden=true; btn4_6.hidden=true; btn4_7.hidden=true; 

    }
    function Install_Form4_1()
    {
      let i=1; let stroka1="";
      for (i=1;i<=limit_cultures;i++)
      {
        form4_1.Culture_added.options[i].hidden=true;
      }
      for (i=1;i<=n_cultures;i++)
      {
        stroka1=cultures[i-1].name_cul;
        form4_1.Culture_added.options[i].hidden=false;
        form4_1.Culture_added.options[i].value=stroka1;
        form4_1.Culture_added.options[i].innerHTML=stroka1;
      }
    }
    function Install_Form4_2()
    {
      let i=1; 
      for (i=1;i<=limit_proverbs;i++)
      {
        form4_2.Proverb_added.options[i].hidden=true;
      }
    }
    function Install_Form4_3()
    {
      let i=1; let stroka1="";
      for (i=1;i<=limit_senses;i++)
      {
        form4_3.Sense_added.options[i].hidden=true;
      }
      for (i=1;i<=n_senses;i++)
      {
        stroka1=senses[i-1].name_sense;
        form4_3.Sense_added.options[i].hidden=false;
        form4_3.Sense_added.options[i].value=stroka1;
        form4_3.Sense_added.options[i].innerHTML=stroka1;
      }
    }
    function ForState4()
    {
      let ab1={cod_seans:0, type:0}; 
      ////////////
      vizhu1.hidden=false; vizhu2.hidden=false; state=4;
      form4_1.hidden=false; form4_2.hidden=false; form4_3.hidden=false;
      favor_culture.hidden=false; favor_proverb.hidden=false; favor_sense.hidden=false;
      favor_refer1.hidden=false; 
      hss1.hidden=false; btn4_9.hidden=false; btn4_10.hidden=false;
      btn4_1.hidden=false; btn4_2.hidden=false; btn4_4.hidden=false;
      btn4_5.hidden=false; btn4_6.hidden=false; btn4_7.hidden=false; btn4_8.hidden=false;
      Install_Form4_1(); Install_Form4_2(); Install_Form4_3();
      ///////
      n_seanses_actions=n_seanses_actions+1;
      ab1.cod_seans=cod_seanse; ab1.type=1;  
      seanses_actions[n_seanses_actions-1]=ab1;
    }

    function ClearState6()
    {
     btn6_0.hidden=true; btn6_1.hidden=true; btn6_2.hidden=true;
     btn6_3.hidden=true; btn6_4.hidden=true; form_radio1.hidden=true; 
    }
    function ForState6()
    {
     let ab1={cod_seans:0, type:0};
     state=6; btn6_0.hidden=false; btn6_1.hidden=false;
     btn6_2.hidden=false; btn6_3.hidden=false; 
     btn6_4.hidden=false; form_radio1.hidden=false;    
     n_seanses_actions=n_seanses_actions+1;
     ab1.cod_seans=cod_seanse; ab1.type=3; 
     seanses_actions[n_seanses_actions-1]=ab1;

    }
    function ClearState7()
    {
     btn7_1.hidden=true; btn7_2.hidden=true; btn7_3.hidden=true; 
     btn7_4.hidden=true; btn7_5.hidden=true; 
    }
    function ForState7()
    {
     let ab1={cod_seans:0, type:0};
     btn7_1.hidden=false; btn7_2.hidden=false; btn7_3.hidden=false; 
     btn7_4.hidden=false; btn7_5.hidden=false;     
     n_seanses_actions=n_seanses_actions+1;
     ab1.cod_seans=cod_seanse; ab1.type=2; 
     seanses_actions[n_seanses_actions-1]=ab1;
    }
    function Generate_Tasks()
    {
      let stroksss=new Array(); let podschett=0;
      stroksss[0]="Заготовки для заданий в тестовой форме";
      for (let i=1;i<=senses.length;i++)
      {
        let strokx=Proverbs_Sense(i);
        for (j=1;j<=(strokx.length-1);j++)
        {
         podschett=podschett+1;
         stroksss[podschett]="Какому смыслу соответствует пословица: "+strokx[j];
         podschett=podschett+1;
         stroksss[podschett]="Верный ответ: ";
         podschett=podschett+1;
         stroksss[podschett]=senses[i-1].name_sense;
         podschett=podschett+1;
         stroksss[podschett]="Неверные ответы: ";
         for (let k=1;k<=senses.length;k++)
         {
          if (!(k==i))
          {
            podschett=podschett+1;
            stroksss[podschett]=senses[k-1].name_sense;
          }
         }
        }
      }
      Reflect_Info(stroksss);
    }
    function ClearState8()
    {
      div_for_8.hidden=true; 
    }
    function ForState8()
    {
      div_for_8.hidden=false; state=8; shifted=0; DrawImages2();
    }
    function ClearState9()
    {
      div_for_9.hidden=true; 
      for (let i=1;i<=6;i++)
      {
       img_my[i].hidden=true; a_my[i].hidden=true; state_img[i]=0;
      }
    }
    function DrawImages1()
    {
      for (let i=1;i<=6;i++)
      {
        state_img[i]=0; img_my[i].hidden=false; img_my[i].style.position="absolute"; 
        img_my[i].style.width=70+"px"; img_my[i].style.heigth=90+"px";
        img_my[i].src="door-image.gif";
        img_my[i].style.left=(200*i-140)+"px"; img_my[i].style.top=(15*i+85)+"px";
        a_my[i].hidden=false; a_my[i].style.position="absolute"; 
        a_my[i].style.left=(200*i-140)+"px"; a_my[i].style.top=(15*i+185)+"px";
        a_my[i].innerHTML="№ "+(i+shifted)+" Культура: "+cultures[shifted+i-1].name_cul;
      }
    }
    function DrawImages2()
    {
      for (let i=1;i<=6;i++)
      {
        state_img[i]=0; img_my[i].hidden=false; img_my[i].style.position="absolute"; 
        img_my[i].style.width=70+"px"; img_my[i].style.heigth=90+"px";
        img_my[i].src="flower1.gif";
        img_my[i].style.left=(200*i-140)+"px"; img_my[i].style.top=(15*i+85)+"px";
        a_my[i].hidden=false; a_my[i].style.position="absolute"; 
        a_my[i].style.left=(200*i-140)+"px"; a_my[i].style.top=(15*i+185)+"px";
        a_my[i].innerHTML="№ "+(i+shifted)+" Смысл: "+senses[shifted+i-1].name_sense;
      }
    }
    function ForState9()
    {
      div_for_9.hidden=false; state=9; shifted=0;
      DrawImages1();
    }
    //Теперь включим анимацию - движение Земли вокруг Солнца
    setInterval(Animation, delta_t);
    //Функция для состояния № 1 - Вывод информации о веб-сайте
    function Inform_About()
    {
      let newWindow = window.open('', '', 'width=800,height=600');
      let stroka1="About_Unity1.pdf";
      newWindow.document.open();
      newWindow.document.write('<!DOCTYPE html>');
      newWindow.document.write('<html lang="ru">');
      newWindow.document.write('<head>');
      newWindow.document.write('<meta charset="UTF-8">');
      newWindow.document.write('<meta name="viewport" content="width=device-width, initial-scale=1.0">');
      newWindow.document.write('<title>О веб-сайте "Духовное единство человечества"</title>');
      newWindow.document.write('</head>'); newWindow.document.write('<body>');
        //Насытим гиперссылками - файлами для скачивания
      newWindow.document.writeln('<p>');
      newWindow.document.writeln('<a href="' +stroka1+'">Кратко о веб-сайте и авторах</a>');
      newWindow.document.writeln('</p>');
      //
      stroka1="About_Unity2.pdf";
      newWindow.document.writeln('<p>');
      newWindow.document.writeln('<a href="' +stroka1+'">О духовном единстве человечества</a>');
      newWindow.document.writeln('</p>');
      //
      stroka1="About_Unity3.pdf";
      newWindow.document.writeln('<p>');
      newWindow.document.writeln('<a href="' +stroka1+'">Краткая инструкция для гостей</a>');
      newWindow.document.writeln('</p>');
      //
      stroka1="About_Unity4.pdf";
      newWindow.document.writeln('<p>');
      newWindow.document.writeln('<a href="' +stroka1+'">Краткая инструкция для авторизованных пользователей</a>');
      newWindow.document.writeln('</p>');
      //
      stroka1="About_Unity5.pdf";
      newWindow.document.writeln('<p>');
      newWindow.document.writeln('<a href="' +stroka1+'">Краткая инструкция для администраторов веб-сайта</a>');
      newWindow.document.writeln('</p>');
      //
      stroka1="Myishonok_Syirik.pdf";
      newWindow.document.writeln('<p>');
      newWindow.document.writeln('<a href="' +stroka1+'">Сборник сказок "Мышонок Сырик"</a>');
      newWindow.document.writeln('</p>');
      //
      stroka1="Taninyi_skazki.pdf";
      newWindow.document.writeln('<p>');
      newWindow.document.writeln('<a href="' +stroka1+'">Сборник сказок "Веснушик. Танины сказки"</a>');
      newWindow.document.writeln('</p>');      
      // для корректной работы Server
      newWindow.document.write('</' + 'body>'); newWindow.document.write('</html>');
    }
    // А теперь функции для возможности авторизации и регистрации
    function SetVerified(verifieds)
    {
      if (verifieds==3)
      {
        About_user.innerHTML="Ваш статус: гость";
        Nic_Name_user.hidden=true; Date_user.hidden=true;
        AllowAddition.hidden=true; AllowZadan.hidden=true; AllowGenerate.hidden=true; AllowPortfolio.hidden=true;
        btn1.hidden=false; btn2.hidden=true;
      }
      if (verifieds==2)
      {
        About_user.innerHTML="Ваш статус: авторизованный пользователь";
        Nic_Name_user.hidden=false; Date_user.hidden=false;
        AllowAddition.hidden=true; AllowGenerate.hidden=true;
        AllowZadan.hidden=false; AllowPortfolio.hidden=false;      
        btn1.hidden=true; btn2.hidden=false;      }
      if (verifieds==1)
      {
        About_user.innerHTML="Ваш статус: администратор";
        Nic_Name_user.hidden=false; Date_user.hidden=false;
        AllowAddition.hidden=false; AllowZadan.hidden=false; AllowGenerate.hidden=false; AllowPortfolio.hidden=false;
        btn1.hidden=true; btn2.hidden=false;           
      }
    }
    function Ident_User(inputed3)
    {
      let cod_us1=-1;
      for (let ijk=1;ijk<=n_legal_users;ijk=ijk+1)
      {
        if (legitim_users[ijk-1].n_name==inputed3)
        {
          cod_us1=ijk-1;
          break;
        }
      }
      return cod_us1;
    }
    function Verify()
    {
      let ab_seans={cod_seans:0, cod_user:0, date_time:"1000-00-00-00-00-00"}; 
      let strok2=getDateTime(); SetVerified(verified);
      let inputed1=user_name_inp.value; let inputed2=user_password_inp.value; cod_us=Ident_User(inputed1);
      if (cod_us<0) {alert("Нет такого пользователя!");}
      else 
      {
        if (inputed2==legitim_users[cod_us].password_my)
        {
         alert("Авторизация успешна!");
         verified=legitim_users[cod_us].status;
         SetVerified(verified);
         Nic_Name_user.innerHTML="Имя пользователя: "+legitim_users[cod_us].n_name;
         Date_user.hidden=false; Date_user.innerHTML="Дата входа в профиль: "+strok2;
         n_seanses=n_seanses+1;
         ab_seans.cod_seans=n_seanses; ab_seans.cod_user=legitim_users[cod_us].cod;
         ab_seans.date_time=strok2; seanses[n_seanses-1]=ab_seans; cod_seanse=ab_seans.cod_seans;
        }
        else {alert("Неверно введён пароль!");}
      }
    }
    function Exit_Profil()
    {
      let ret_to_gues=false;
      if (verified<3)
      {
        ret_to_gues=confirm("Вы уверены, что хотите выйти из профиля?");
        if (ret_to_gues)
        {
         verified=3; About_user.innerHTML="Ваш статус: гость"; Nic_Name_user.innerHTML="Имя пользователя: гость";
         AllowAddition.hidden=true; AllowZadan.hidden=true; AllowGenerate.hidden=true;
         AllowPortfolio.hidden=true; Date_user.hidden=true; btn1.hidden=false; btn2.hidden=true;   
         user_name_inp.value=""; user_password_inp.value="";            
        }
      }
    }
    //Сделали все функции для авторизации и регистрации
    // Это был скрипт для состояний №№ 1!
</script>
</body>

<!-- Теперь скрипты для состояний №№ 2-->

<body>
  <script>
    // Это скрипты для состояний №№ 2
    function ToState2()
    {
      if (!(verified==3)) {alert("Вначале надо выйти из профиля!");} else
      {
       ClearState1(); ClearState3(); ClearState4(); ClearState6(); ClearState7(); ClearState8(); ClearState9();
       ForState2();
      }
    }
    // Функции для регистрации, состояния №№ 2
    function Valid_Password(password_str)
    {
       let lenstr1=password_str.length; let valid1=0;
       if (lenstr1<10) {valid1=1;}
       else 
       {
          for (kk3=1;kk3<=(lenstr1-3);kk3=kk3+1)
          {
           if ((password_str[kk3-1]==password_str[kk3]) && 
           (password_str[kk3]==password_str[kk3+1]) &&
           (password_str[kk3+1]==password_str[kk3+2]))
           {
              valid1=2;
              break;
           }
          }
       }
       return valid1;   
    }
    function Valid_Name_User(us_name_str)
    {
          let valid2=0;
          for (kk4=1;kk4<=n_legal_users;kk4=kk4+1)
          {
              if (us_name_str==legitim_users[kk4-1].n_name)
              {
                  valid2=1;
                  break;
              }
          }
          return valid2;
    }
    function Get_Registration()
    {
       let correct_name=0; let correct_password=0;
       let strochechka1=user_name_inppp.value;
       let strochechka2=user_password_inppp.value; 
       let strochechka3=user_password_inpppp.value;
       if (!(strochechka2==strochechka3)) {alert("Пароли не совпадают!");}
       else
       {
         correct_name=Valid_Name_User(strochechka1);
         correct_password=Valid_Password(strochechka2)
         if (correct_name==1) {alert("Пользователь с таким именем уже существует!");}
         if (correct_password==1) {alert("Пароль менее 10 символов недопустим!");}
         if (correct_password==2) {alert("В пароле недопустимо более трёх одинаковых символов подряд!");}
         if ((correct_name==0) && (correct_password==0))
         {
           n_legal_users=n_legal_users+1;
           let new_user_syst={n_name:strochechka1, cod:n_legal_users+1, status:2, password_my:strochechka2};
           legitim_users.push(new_user_syst);
           alert("Вы успешно зарегистрированы!");
         }
       }
    }
    // Это были скрипты для состояний №№ 2
  </script>
</body>

<body>
  <script>
    function ToState3()
    {
      ClearState1(); ClearState2(); ClearState4(); ClearState6(); ClearState7(); ClearState8(); ClearState9();  
      ForState3(); btn3_1.hidden=true; btn3_2.hidden=true;
      //Начальные установки
    }
    /////////////////////////
    //Вначале культура не выбрана
    function dataSelect1(f) 
    {
     culture_id = f.Culture_analyzed.selectedIndex;
     if (culture_id==0)
     {
      btn3_1.hidden=true; btn3_2.hidden=true;
      alert("Вы так и не выбрали анализируемую культуру!");
     }
     if (culture_id>0)
     {
      btn3_1.hidden=false; btn3_2.hidden=false;
      alert("Культура анализируемая: "+culture_id+"   "+f.Culture_analyzed.options[culture_id].value);
     }
    }
    //
    function Refs_Culture(c_id)
    {
      let rfss=new Array(); let score=0;
      for (let i=1;i<=references.length;i++)
      {
        if (references[i-1].cod_cultur==c_id)
        {
          score=score+1; rfss[score]=references[i-1].name_refer;
        }
      }
      if (score>0) {rfss[0]="Культура: "+cultures[c_id-1].name_cul;}
      return rfss;
    }
    function Ref_Culture()
    {
      let refs1=Refs_Culture(culture_id);
      if (refs1.length<1) {alert("Пока нет полезных ссылок на пословицы данной культуры");}
      else
      {
        let newWindow = window.open('', '', 'width=800,height=600');
        newWindow.document.open();
        newWindow.document.write('<!DOCTYPE html>');
        newWindow.document.write('<html lang="ru">');
        newWindow.document.write('<head>');
        newWindow.document.write('<meta charset="UTF-8">');
        newWindow.document.write('<meta name="viewport" content="width=device-width, initial-scale=1.0">');
        newWindow.document.write('<title>Духовное единство человечества</title>');
        newWindow.document.write('</head>'); newWindow.document.write('<body>');
        newWindow.document.writeln('<p>');
        newWindow.document.writeln('<a><b>'+refs1[0]+'</b></a>');
        newWindow.document.writeln('</p>'); 
        for (let i=1;i<=(refs1.length-1);i++)
        {
          newWindow.document.writeln('<p>');
          newWindow.document.writeln('<a href="' +refs1[i]+'">Полезная ссылка:'+i+'</a>');
          newWindow.document.writeln('</p>');
        }
        // для корректной работы Server
        newWindow.document.write('</' + 'body>'); newWindow.document.write('</html>');
      }
    }
    //Функция анализа конкретной культуры
    function Analyze_Cult()
    {
      let cult_array=Get_Arr_For_Analyse(culture_id); let stroks=new Array();
     //Получаем массив о семантическом сходстве избранной культуры с иными культурами
     //alert(culture_id);  alert(cult_array.length);
     let z1=ScreePlotMethod(cult_array);
     stroks[0]="Анализируемая культура: "+cultures[culture_id-1].name_cul;
     stroks[1]="Координационное число в поликультурном пространстве: "+z1.count;
     stroks[2]="Общая степень семантического сходства с другими культурами: "+z1.sum;
     stroks[3]="Индекс семантического сходства с другими культурами (валентность): "+z1.h_ind;
     Reflect_Info(stroks);
    }
    //Функция анализа поликультурного пространства, т.е. человечества
    function Analyze_Humanity()
    {
      let stroks=new Array();
      stroks[0]="Поликультурное пространство:";
      // Вначале вычислим параметры каждой культуры, в том числе её h-индекс
      for (let kl1=1;kl1<=num_sem_equals;kl1=kl1+1)
      {
        let cult_array_promezh=Get_Arr_For_Analyse(kl1); 
        params_culturs[kl1-1]=ScreePlotMethod(cult_array_promezh);
        stroks[kl1]="Культура № "+kl1+" ("+cultures[kl1-1].name_cul+"), "+" h: "+params_culturs[kl1-1].h_ind+" sred: "+params_culturs[kl1-1].mid;
      }
      // Вычислим глобальный h-индекс по h-индексам культур, или холистическое квантовое число поликультурного пространства
      stroks[num_sem_equals]="Интегральные характеристики поликультурного пространства:";
      ////
      for (let kl2=1;kl2<=num_sem_equals;kl2=kl2+1)
      {
        h_cultures[kl2-1]=params_culturs[kl2-1].h_ind;
      }
      let param_glob=ScreePlotMethod(h_cultures);
      h_holystic=param_glob.h_ind;
      stroks[num_sem_equals+1]="Холистическое квантовое число поликультурного пространства: "+param_glob.h_ind;
      // Вычислим глобальный s-индекс по парным индексам культур, или системное квантовое число поликультурного пространства
      n_links_sense=0;
      for (let kl3=1;kl3<=num_sem_equals;kl3=kl3+1)
      {
       for (let kl4=kl3+1;kl4<=num_sem_equals;kl4=kl4+1)
       {
        n_links_sense=n_links_sense+1;
        link_sense_cultures[n_links_sense-1]=Semant_Equals[kl3-1][kl4-1]; 
       }
      }
      let param_glob1=ScreePlotMethod(link_sense_cultures);
      h_system=param_glob1.h_ind;
      stroks[num_sem_equals+2]="Системное квантовое число поликультурного пространства: "+h_system;
      Reflect_Info(stroks);
      //////////////////
    }
    // Это были скрипты для состояний №№ 3
  </script>
</body>

<body>
  <script>
    function ToState4()
    {
      ClearState1(); ClearState2(); ClearState3(); ClearState6(); ClearState7(); ClearState8(); ClearState9();  
      ForState4();
    }
  </script>
</body>


<body>
  <script>
    function ToState5()
    {
      let my_strs_seanses=new Array(); let my_strs_seanses1=new Array(); let codes_seanses=new Array();
      let podschet1=0; let podschet2=0; let strok4="!!"; let n_inpts=0; let k=0; let kk=0; let kkk=0; let type=0;
      for (k=0;k<=(seanses.length-1);k++)
      {
        if (seanses[k].cod_user==legitim_users[cod_us].cod)
        {
          n_inpts=n_inpts+1;
          codes_seanses[n_inpts]=seanses[k].cod_seans;
          my_strs_seanses1[n_inpts]=seanses[k].date_time;
        }
      }
      my_strs_seanses[0]="Сеансы пользователя "+legitim_users[cod_us].n_name+" (их число "+n_inpts+"):";
      for (k=1;k<=n_inpts;k++)
      {my_strs_seanses[k]="Вход №: "+k+" Дата и время: "+my_strs_seanses1[k];}
      my_strs_seanses[n_inpts+1]="Теперь подробнее о сеансах:";
      for (k=1;k<=n_inpts;k++)
      {
        podschet1=podschet1+1; podschet2=0;
        my_strs_seanses[n_inpts+1+podschet1]="Вход №: "+k+" Дата и время: "+my_strs_seanses1[k];
        for (kk=1;kk<=n_seanses_actions;kk++)
        {
         if (seanses_actions[kk-1].cod_seans==codes_seanses[k])
         {
            podschet1=podschet1+1; podschet2=podschet2+1; 
            type=seanses_actions[kk-1].type;
            if (type==1) {strok4="Действие: редактирование данных о поликультурном мире";}
            if (type==2) {strok4="Действие: генерация заданий";}
            if (type==3) {strok4="Действие: выполнение заданий";}
            my_strs_seanses[n_inpts+1+podschet1]=strok4;
         }
        }
        podschet1=podschet1+1;
        strok4="Всего по данному сеансу действий: "+podschet2; my_strs_seanses[n_inpts+1+podschet1]=strok4;
      }
      Reflect_Info(my_strs_seanses);
    }
  </script>
</body>

<body>
  <script>
    function ToState6()
    {
      ClearState1(); ClearState2(); ClearState3(); ClearState4(); ClearState7(); ClearState8(); ClearState9();  
      ForState6();
    }
  </script>
</body>

<body>
  <script>
    function ToState7()
    {
      ClearState1(); ClearState2(); ClearState3(); ClearState4(); ClearState6(); ClearState8(); ClearState9();  
      ForState7();
    }
  </script>
</body>

<body>
  <script>
    function ToState8()
    {
      ClearState1(); ClearState2(); ClearState3(); ClearState4(); ClearState6(); ClearState7(); ClearState9();  
      ForState8();
    }
  </script>
</body>

<body>
  <script>
    //
    function ToState9()
    {
      ClearState1(); ClearState2(); ClearState3(); ClearState4(); ClearState6(); ClearState7(); ClearState8();  
      ForState9();
    } 
  </script>
</body>

<!---->
<body>
  <script>
    ////Очень важные функции для обработки информации!!!!!
    //Отображение однородной информации в новом окне
    function Reflect_Info(My_strings)
    {
      let newWindow = window.open('', '', 'width=1000,height=800');
      let n_strs=My_strings.length; let strok3="frgre";
      newWindow.document.open(); newWindow.document.write('<!DOCTYPE html>');
      newWindow.document.write('<html lang="ru">'); newWindow.document.write('<head>');
      newWindow.document.write('<meta charset="UTF-8">');
      newWindow.document.write('<meta name="viewport" content="width=device-width, initial-scale=1.0">');
      newWindow.document.write('<title>Духовное единство человечества</title>');
      newWindow.document.write('</head>'); newWindow.document.write('<body>');
      newWindow.document.writeln('<p><h1><b>'+My_strings[0]+'</b></h1></p>');
      for (let k=1;k<=(n_strs-1);k++)
      {
        newWindow.document.writeln('<p><a>'+My_strings[k]+'</a></p>');
      }
      newWindow.document.write('</' + 'body>'); newWindow.document.write('</html>');
    }
    //Получение даты и времени
    function getDateTime() 
    {
        var now     = new Date(); var year    = now.getFullYear(); var month   = now.getMonth()+1; 
        var day     = now.getDate(); var hour    = now.getHours();
        var minute  = now.getMinutes(); var second  = now.getSeconds(); 
        if (month.toString().length == 1) {month = '0'+month;}
        if (day.toString().length == 1) {day = '0'+day;}   
        if (hour.toString().length == 1) {hour = '0'+hour;}
        if (minute.toString().length == 1) {minute = '0'+minute;}
        if (second.toString().length == 1) {second = '0'+second;}   
        var dateTime = year+'-'+month+'-'+day+' '+hour+':'+minute+':'+second;   
        return dateTime;
    }    
    //Сортировка массива по убыванию
    function Sort_Arr_By_Dec(arr_sorted)
    {
     let n_1=arr_sorted.length;
     let arr_res=new Array(n_1);
     let num_max1=0; let promez1=1;
     for (let j0=1;j0<=n_1;j0=j0+1)
     {
      arr_res[j0-1]=arr_sorted[j0-1];
     }
     for (let j1=1;j1<=n_1;j1=j1+1)
     {
      num_max1=j1; 
      promez1=arr_res[j1-1];
      for (j2=j1;j2<=n_1;j2=j2+1)
      {
       if (arr_res[j2-1]>arr_res[j1-1])
       {
        num_max1=j2;
        promez1=arr_res[j2-1];
        arr_res[j2-1]=arr_res[j1-1]
        arr_res[j1-1]=promez1;
       }
      }
     }
     return arr_res;
    }
    //Функция метода каменистой осыпи
    function ScreePlotMethod(array_analyzes)
    {
     let scr_met={n:0, sum:0, mid: 0, count:0, h_ind:0}; 
     let nn_1=array_analyzes.length;
     let array_computed=new Array(nn_1);
     let summa1=0; let midd1=0; let h_ind1=0; let count1=0;
     array_computed=Sort_Arr_By_Dec(array_analyzes);
     for (j_1=1;j_1<=nn_1;j_1=j_1+1)
     {
      summa1=summa1+array_computed[j_1-1];
      if (array_computed[j_1-1]>0) {count1=count1+1;}
     }
     midd1=summa1/nn_1;
     for (j_2=1;j_2<=nn_1;j_2=j_2+1)
     {
       if (array_computed[j_2-1]>=j_2)
       {
        h_ind1=h_ind1+1;
       } else {break;}
      } 
     scr_met.count=count1;scr_met.h_ind=h_ind1;
     scr_met.n=nn_1;scr_met.sum=summa1;scr_met.mid=midd1;
     return scr_met;
    }
    //Далее функции по обработке информации
    //Функция получения одномерного массива из матрицы о семантическом сходстве культуры
    function Get_Arr_For_Analyse(cul_ident)
    { 
      let schetchik_1=0; let promez2=0;
      let cul_arr=new Array();
      for (let i9=1;i9<=num_sem_equals;i9=i9+1)
      {
         if (i9<cul_ident) 
         {
           schetchik_1=schetchik_1+1;
           promez2=Semant_Equals[schetchik_1-1][cul_ident-1];
           cul_arr.push(promez2);
         }
         if (i9>cul_ident) 
         {
           schetchik_1=schetchik_1+1;
           promez2=Semant_Equals[cul_ident-1][schetchik_1];
           cul_arr.push(promez2);
         }
      }
      return cul_arr;
    }
    //Это были скрипты по обработке информации
</script>
</body>
<!---->

<body>
  <script>
    //Функции запроса к инфоромационному обеспечению о пословицах
    function Proverbs_Culture(num_cult)
    {
      let prvbs=new Array(); let i1=0; let nprvbs=0;
      for (i1=1; i1<=(proverbs.length); i1++)
      {
       if (proverbs[i1-1].cod_cult==num_cult)
       {
        nprvbs=nprvbs+1;
        prvbs[nprvbs]=proverbs[i1-1].name_prov;
       }
       if (nprvbs>0) {prvbs[0]="Культура: "+cultures[num_cult-1].name_cul;}
      }
      return prvbs;
    }
    function Proverb_By_Cod(coder)
    {
     let strok5=" "; let cc=0;
     strok5=proverbs[coder-1].name_prov; cc=proverbs[coder-1].cod_cult;
     strok5=strok5+" ("+cultures[cc-1].name_cul+")"
     return strok5;
    }
    function Proverbs_Sense(num_sense)
    {
      let prvbs=new Array(); let i1=0; let nprvbs=0;
      for (i1=1; i1<=(links_senses_proverbs.length); i1++)
      {
       if (links_senses_proverbs[i1-1].cod_senser==num_sense)
       {
        nprvbs=nprvbs+1;
        prvbs[nprvbs]=Proverb_By_Cod(links_senses_proverbs[i1-1].cod_proverb);
       }
       if (nprvbs>0) {prvbs[0]="Смысл: "+senses[num_sense-1].name_sense;}
      }
      return prvbs;
    }
</script>
</body>

<body>
  <script>
 function Select_Info1(f)
 {
  let i=0; let prvbs1=new Array();
  culture_id=f.Culture_added.selectedIndex;
  alert("Выбранная культура: "+culture_id+" "+f.Culture_added.options[culture_id].value);
  if ((state==3) && (culture_id>0)) 
  {
    btn3_1.hidden=false; btn3_2.hidden=false;
    prvbs1=Proverbs_Culture(culture_id);
    Reflect_Info(prvbs1);
  }
  if ((state==3) && (culture_id<1)) {btn3_1.hidden=true; btn3_2.hidden=true;}
  if (state==4)
  {
   Install_Form4_2();
   prvbs1=Proverbs_Culture(culture_id);
   if ((prvbs1.length)<1) {alert("Пока нет пословиц, аффилированных к данной культуре");}
   else
   {
    alert("Культура: "+prvbs1[i]);
    for (i=2; i<=(prvbs1.length); i++)
    {
     form4_2.Proverb_added.options[i].hidden=false;
     form4_2.Proverb_added.options[i].value=prvbs1[i-1];
     form4_2.Proverb_added.options[i].innerHTML=prvbs1[i-1];
    }
   }
  }
 } 

  </script>
</body>

</html>

<!--Из index5.html-->

<body>
<script>
 ////   
 function Select_Info2(f)
 {
  proverb_adding=f.Proverb_added.selectedIndex;
  alert("Выбранная пословица: "+proverb_adding+" "+f.Proverb_added.options[proverb_adding].value);
 } 
 function Select_Info3(f)
 {
  let prvbs1=new Array(); 
  sense_adding=f.Sense_added.selectedIndex;
  alert("Выбранный смысл: "+sense_adding+" "+f.Sense_added.options[sense_adding].value);
  if ((state==3) && (sense_adding>0)) 
  {
    prvbs1=Proverbs_Sense(sense_adding);
    Reflect_Info(prvbs1);
  }

 } 
 //////////////////////////
 function SetInitialForProverbs()
 {
  for (kk1=1;kk1<=limit_proverbs;kk1=kk1+1)
  {
    form4_2.Proverb_added.options[kk1].hidden=true;
  }
 }
 function SetInitialForVisuals()
 {
  EarthImg.style.left=(window.innerWidth-200)/2+"px";
  EarthImg.style.top=(20+(window.innerHeight-200)/2)+"px";
  x_opor=(window.innerWidth-200)/2; y_opor=(window.innerHeight-200)/2;
  //
  vizhu1.hidden=true; vizhu2.hidden=true;
  hss1.hidden=true; 
  for (kk1=1;kk1<=limit_cultures;kk1=kk1+1)
  {
    form4_1.Culture_added.options[kk1].hidden=true;
  }
  SetInitialForProverbs();
  for (kk1=1;kk1<=limit_senses;kk1=kk1+1)
  {
    form4_3.Sense_added.options[kk1].hidden=true;
  }
 }
 /////////////////////////////////
 function Add_Culture()
 {
  let stroka1=favor_culture.value;
  if (n_cultures>=limit_cultures) {alert("Превышен лимит вводимых культур!");}
  else
  {
    let dalee1=confirm("Вы ввели культуру: "+stroka1+". Вы уверены, что она ещё не введена и что её надо вводить?");
    if (dalee1)
    {
      // Добавляем культуру
      n_cultures=n_cultures+1;
      form4_1.Culture_added.options[n_cultures].hidden=false;
      form4_1.Culture_added.options[n_cultures].value=stroka1;
      form4_1.Culture_added.options[n_cultures].innerHTML=stroka1;
      let sv1={cod_cul:n_cultures, name_cul:stroka1};
      cultures.push(sv1);
      alert("Добавлена культура: "+stroka1);
      alert(cultures[n_cultures-1].cod_cul); alert(cultures[n_cultures-1].name_cul);
      // Добавили культуру
    }
  }  
 }
 function Add_Reference1()
 {
  if (culture_id>0)
  {
   let stroka6=favor_refer1.value;
   let dalee2=confirm("Вы уверены, что это полезная ссылка (на файл с пословицами или гиперссылка) ещё не введена и её надо вводить?");
   if (dalee2)
   {
    n_references=n_references+1;
    let sv5={cod_refer:n_references, cod_cultur:culture_id, name_refer:stroka6};
    references.push(sv5);
    alert("Добавлена ссылка: "+stroka6);
    alert(references[n_references-1].cod_refer); 
    alert(references[n_references-1].name_refer);
    alert(references[n_references-1].cod_cultur);
    hss1.hidden=false;
    hss1.innerHTML="Ссылка на файл или гиперссылка:"+stroka6;
    hss1.href=stroka6;
   }
  }
  else {alert("Вначале надо выбрать культуру, к которой аффилирована ссылка!");}
 }
 function Add_Proverb()
 {
  if (culture_id>0)
  {
   let stroka2=favor_proverb.value;
   let dalee2=confirm("Вы уверены, что эта пословица ещё не введена и её надо вводить?");
   if (dalee2)
   {
    n_proverbs=n_proverbs+1;
    form4_2.Proverb_added.options[n_proverbs].hidden=false;
    form4_2.Proverb_added.options[n_proverbs].value=stroka2;
    form4_2.Proverb_added.options[n_proverbs].innerHTML=stroka2;
    let sv3={cod_prov:n_proverbs, cod_cult:culture_id, name_prov:stroka2};
    proverbs.push(sv3);
    alert("Добавлена пословица: "+stroka2);
    alert(proverbs[n_proverbs-1].cod_prov); 
    alert(proverbs[n_proverbs-1].name_prov);
    alert(proverbs[n_proverbs-1].cod_cult);
   }
  }
  else {alert("Вначале надо выбрать культуру, к которой аффилирована пословица!");}
 }
 function Add_Sense()
 {
   let stroka3=favor_sense.value;
   let dalee3=confirm("Вы уверены, что этот смысл ещё не введён и его надо вводить?");
   if (dalee3)
   {
    n_senses=n_senses+1;
    form4_3.Sense_added.options[n_senses].hidden=false;
    form4_3.Sense_added.options[n_senses].value=stroka3;
    form4_3.Sense_added.options[n_senses].innerHTML=stroka3;
    let sv2={cod_sense:n_senses, name_sense:stroka3};
    senses.push(sv2);
    alert("Добавлен смысл: "+stroka3);
    alert(senses[n_senses-1].cod_sense); alert(senses[n_senses-1].name_sense);      
   }
 }
 function Add_Link_Proverb_Sense()
 {
  let dalee4=true; let pr_stroka1="";
  if (sense_adding<1) {dalee4=false; alert("Не выбран смысл!");}
  if (proverb_adding<1) {dalee4=false; alert("Не выбрана пословица!");}
  if (culture_id<1) {dalee4=false; alert("Не выбрана культура!");}
  if ((sense_adding>0) && (proverb_adding>0) && (culture_id>0))
  {
    pr_stroka1="Вы уверены, что хотите добавить аффилиацию смысла "+form4_3.Sense_added.options[sense_adding].innerHTML+" и пословицы "+form4_2.Proverb_added.options[proverb_adding].innerHTML+"?";    
    dalee4=confirm(pr_stroka1);
  }
  if (dalee4)
  {
    n_links_senses_proverbs=n_links_senses_proverbs+1;
    let sv4={cod_l_s_p:n_links_senses_proverbs, cod_senser:sense_adding, cod_proverb: proverb_adding};
    links_senses_proverbs.push(sv4);
    alert("Число аффилиаций СМЫСЛ - ПОСЛОВИЦА: "+n_links_senses_proverbs);
    alert("Код аффилиаций СМЫСЛ - ПОСЛОВИЦА: "+links_senses_proverbs[n_links_senses_proverbs-1].cod_l_s_p);
    alert("Код смысла: "+links_senses_proverbs[n_links_senses_proverbs-1].cod_senser);
    alert("Код пословицы: "+links_senses_proverbs[n_links_senses_proverbs-1].cod_proverb);
  }
 }
 function Delete_Link_Proverb_Sense()
 {
  if (n_links_senses_proverbs<1) {alert("Нечего удалять!")}
  else {alert("Функция удаления аффилиации СМЫСЛ-ПОСЛОВИЦА пока не работает");}
 }
 /////////////////////////////////////////
 //////////////////////////////////////////
 function Forward1()
 {
  let stroka4="";
  if (n_links_senses_proverbs<1) {alert("Нечего отображать!")}
  else
  {
   if (current_links_senses_proverbs<n_links_senses_proverbs) 
   {current_links_senses_proverbs=current_links_senses_proverbs+1;}
   else 
   {current_links_senses_proverbs=1;}
   //
   vizhu1.hidden=false; vizhu2.hidden=false;
   stroka4="Смысл: "+senses[links_senses_proverbs[current_links_senses_proverbs-1].cod_senser-1].name_sense;
   vizhu1.innerHTML=stroka4;
   stroka4="Пословица: "+proverbs[links_senses_proverbs[current_links_senses_proverbs-1].cod_proverb-1].name_prov;
   vizhu2.innerHTML=stroka4;
   //
  }
 }
 //
 function Backward1()
 {
  let stroka5="";
  if (n_links_senses_proverbs<1) {alert("Нечего отображать!")}
  else
  {
   if (current_links_senses_proverbs<2) 
   {current_links_senses_proverbs=n_links_senses_proverbs;}
   else 
   {
    current_links_senses_proverbs=current_links_senses_proverbs-1;
   }
   //
   vizhu1.hidden=false; vizhu2.hidden=false;
   stroka5="Смысл: "+senses[links_senses_proverbs[current_links_senses_proverbs-1].cod_senser-1].name_sense;  
   vizhu1.innerHTML=stroka5;
   stroka5="Пословица: "+proverbs[links_senses_proverbs[current_links_senses_proverbs-1].cod_proverb-1].name_prov;
   vizhu2.innerHTML=stroka5;
   //
  }
 }   
 //
 //////////////////////////////////////////////////////////
 //////////////////////////////////////////////////////////
 function My_next()
 {
  if (state==8)
  {
    if ((shifted+6)<n_senses)
   {
    shifted=shifted+1; DrawImages2();
   }
   else {alert("Вперёд двигать некуда!");}
  }
  if (state==9)
  {
   if ((shifted+6)<n_cultures)
   {
    shifted=shifted+1; DrawImages1();
   }
   else {alert("Вперёд двигать некуда!");}
  }
 }
 function My_previous()
 {
  if (state==8)
  {
    if (shifted>0)
   {
    shifted=shifted-1; DrawImages2();
   }
   else {alert("Назад двигать некуда!");}
  }
  if (state==9)
  {
   if (shifted>0)
   {
    shifted=shifted-1; DrawImages1();
   }
   else {alert("Назад двигать некуда!");}
  }
 }
 function Reflect_Img(nomer)
 {
  if (state_img[nomer]==0)
  {
    state_img[nomer]=1;
    img_my[nomer].style.width=120+"px"; img_my[nomer].style.heigth=140+"px";
  }
  else
  {
   if (state_img[nomer]==1)
   {
     state_img[nomer]=2;
     if (state==8)
     {
      let snspvbs2=Proverbs_Sense(nomer+shifted);
      Reflect_Info(snspvbs2);
     }
     if (state==9)
     {
      let prvbs2=Proverbs_Culture(nomer+shifted);
      Reflect_Info(prvbs2);
     }
   }
   else
   {
    if (state_img[nomer]==2)
    {
      state_img[nomer]=0;
      img_my[nomer].style.width=70+"px"; img_my[nomer].style.heigth=90+"px";
    }
   }
  }
 }
/////
</script> 
</body>

<body>
  <script>
    //
    let arr3=new Array();
    let current_task=1; let choosen_var=new Array(); 
    let is_verno=new Array(); let verno_var=new Array();
    let cods_tasks=new Array();
    let zadan1=new Array(); let zadan2=new Array();
    //

    ///////////////////////
    //////////////////////
    let col_tasks=0;
    let Text_Zadan1="Кого звали в детстве Темучин?";
    let Variants_Answ1=new Array();
    Variants_Answ1[0]="Наполеон"; Variants_Answ1[1]="Гитлер"; Variants_Answ1[2]="Чингисхан"; Variants_Answ1[3]="Цезарь"; Variants_Answ1[4]="Юстиниан";
    verno_var=[3,2,1,3,3,5,4,1]; cods_tasks=[2,4,5];
    let rec1={cod_z1:0,text_z:"", wright_z:0}; 
    rec1={cod_z1:1,text_z:"This is the first task", wright_z:3}; zadan1[0]=rec1;
    rec1={cod_z1:2,text_z:"Завершите пословицу (еврейская): Когда дует ветер, ...", wright_z:2}; zadan1[1]=rec1;
    rec1={cod_z1:3,text_z:"This is the third task", wright_z:3}; zadan1[2]=rec1;
    rec1={cod_z1:4,text_z:"Завершите пословицу (татарская): Когда у стада много пастухов, ...", wright_z:4}; zadan1[3]=rec1;
    rec1={cod_z1:5,text_z:"Завершите пословицу (татарская): Дом  с детьми - базар, ...", wright_z:3}; zadan1[4]=rec1;
    rec1={cod_z1:6,text_z:"This is the six task", wright_z:5}; zadan1[5]=rec1;
    rec1={cod_z1:7,text_z:"This is the seven task", wright_z:4}; zadan1[6]=rec1;
    rec1={cod_z1:8,text_z:"This is the eight task", wright_z:2}; zadan1[7]=rec1;
    rec1={cod_z1:9,text_z:"This is the nine task", wright_z:5}; zadan1[8]=rec1;
    rec1={cod_z1:10,text_z:"This is the ten task", wright_z:2}; zadan1[9]=rec1;
    rec1={cod_z1:11,text_z:"This is the eleven task", wright_z:3}; zadan1[10]=rec1;
    rec1={cod_z1:12,text_z:"This is the twelwe task", wright_z:3}; zadan1[11]=rec1;
    rec1={cod_z1:13,text_z:"This is the thirteen task", wright_z:1}; zadan1[12]=rec1;
    rec1={cod_z1:14,text_z:"This is the fotin task", wright_z:4}; zadan1[13]=rec1;
    rec1={cod_z1:15,text_z:"This is the fifteen task", wright_z:5}; zadan1[14]=rec1;
    rec1={cod_z1:16,text_z:"This is the sixteen task", wright_z:2}; zadan1[15]=rec1;
    let rec2={cod_z2:0, text_var: ""}; 
    rec2={cod_z2:1, text_var: "feefgg1"}; zadan2[0]=rec2;
    rec2={cod_z2:1, text_var: "feefgg2"}; zadan2[1]=rec2;
    rec2={cod_z2:2, text_var: "деревья качаются"}; zadan2[2]=rec2;
    rec2={cod_z2:2, text_var: "выше всего вздымается мусор"}; zadan2[3]=rec2;
    rec2={cod_z2:2, text_var: "природа оживает"}; zadan2[4]=rec2;
    rec2={cod_z2:2, text_var: "люди страдают"}; zadan2[5]=rec2;
    rec2={cod_z2:2, text_var: "жизнь обновляется"}; zadan2[6]=rec2;
    rec2={cod_z2:2, text_var: "пережди и не высовывай нос"}; zadan2[7]=rec2;
    rec2={cod_z2:3, text_var: "hergrgwgr"}; zadan2[8]=rec2;
    rec2={cod_z2:4, text_var: "это будоражит мир"}; zadan2[9]=rec2;
    rec2={cod_z2:4, text_var: "пастухам тяжело"}; zadan2[10]=rec2;
    rec2={cod_z2:4, text_var: "овцы радуются"}; zadan2[11]=rec2;
    rec2={cod_z2:4, text_var: "овцы дохнут"}; zadan2[12]=rec2;
    rec2={cod_z2:4, text_var: "волку горе"}; zadan2[13]=rec2;
    rec2={cod_z2:4, text_var: "над пастухами смеются"}; zadan2[14]=rec2;
    rec2={cod_z2:5, text_var: "поэтому надо жить без детей"}; zadan2[15]=rec2;
    rec2={cod_z2:5, text_var: "но без них плохо"}; zadan2[16]=rec2;
    rec2={cod_z2:5, text_var: "без детей - могила"}; zadan2[17]=rec2;
    rec2={cod_z2:5, text_var: "но об этом лучше не думать"}; zadan2[18]=rec2;
    /////////////////////////////////
    /////////////////
    function Set_Init1()
    {
        let i1=1;
        for (i1=1;i1<=max_radio;i1=i1+1)
        {
         arr1[i1].hidden=true; arr2[i1].hidden=true;
        }
        for_text0.innerHTML="";
    }
    form_radio1.hidden=true;
    Set_Init1();
    //
    function Init_Choose()
    {
        let i3=1;
        for (i3=1;i3<=col_tasks;i3=i3+1)
        {
            choosen_var[i3-1]=0;
        }
    }
    //
    function Get_Current(current1)
    {
     choosen_var[current1-1]=form_radio1.var_answ.value;
    }
    //
    function Draw_Task1(num_task,Text_Zadan,Variants_Answ)
    {
        let i2=1; let n_vars=Variants_Answ.length; 
        form_radio1.hidden=false;
        Set_Init1();
        for_text0.innerHTML="Задание № "+num_task+" "+Text_Zadan;
        for (i2=1;i2<=n_vars;i2=i2+1)
        {
            arr1[i2].hidden=false; arr2[i2].hidden=false;
            arr2[i2].innerHTML=Variants_Answ[i2-1];
        }
    }
    //
    function StartTest()
    {
        let code_task=0; let kk=0; let schetchik=0;
        btn6_0.hidden=true; btn6_1.hidden=true;  
        btn6_2.hidden=false; btn6_3.hidden=false; 
        btn6_4.hidden=false;
        form_radio1.hidden=false;
        col_tasks=cods_tasks.length;
        current_task=1;
        Init_Choose();
        code_task=cods_tasks[current_task-1];
        for (kk=1;kk<=zadan1.length;kk=kk+1)
        {
         if (zadan1[kk-1].cod_z1==code_task)
         {
            Text_Zadan1=zadan1[kk-1].text_z;
            verno_var[current_task-1]=zadan1[kk-1].wright_z;
            break;
         }
        }
        for (kk=0;kk<=(Variants_Answ1.length-1);kk=kk+1)
        {
            Variants_Answ1.pop();
        }
        for (kk=1;kk<=zadan2.length;kk=kk+1)
        {
         if (zadan2[kk-1].cod_z2==code_task)
         {
            schetchik=schetchik+1;
            Variants_Answ1[schetchik-1]=zadan2[kk-1].text_var;
         }
        }
        Draw_Task1(current_task,Text_Zadan1,Variants_Answ1);
    }
    function FinishTest()
    {
        let k=1; let stroka_1="";
        Get_Current(current_task);
        Set_Init1();
        btn6_0.hidden=false; btn6_1.hidden=false; btn6_2.hidden=true; btn6_3.hidden=true; btn6_4.hidden=true;
        for (k=1;k<=col_tasks;k=k+1)
        {
            if (choosen_var[k-1]==verno_var[k-1]) {is_verno[k-1]=true;}
            else {is_verno[k-1]=false;}
        }
        for (k=1;k<=col_tasks;k=k+1)
        {
            stroka_1="Номер: "+k+"Выбранный вариант: "+choosen_var[k-1]+"Верный вариант: "+verno_var[k-1]+"Выполенность: "+is_verno[k-1];
            alert(stroka_1);
        }
    }
    ////
    function Next_Task()
    {
        let code_task=0; let kk=0; let schetchik=0;
        Get_Current(current_task);
        if (current_task==col_tasks)
        {
            current_task=1;
        }
        else
        {
            current_task=current_task+1;
        }
        code_task=cods_tasks[current_task-1];
        for (kk=1;kk<=zadan1.length;kk=kk+1)
        {
         if (zadan1[kk-1].cod_z1==code_task)
         {
            Text_Zadan1=zadan1[kk-1].text_z;
            verno_var[current_task-1]=zadan1[kk-1].wright_z;
            break;
         }
        }
        for (kk=0;kk<=(Variants_Answ1.length-1);kk=kk+1)
        {
            Variants_Answ1.pop();
        }
        for (kk=1;kk<=zadan2.length;kk=kk+1)
        {
         if (zadan2[kk-1].cod_z2==code_task)
         {
            schetchik=schetchik+1;
            Variants_Answ1[schetchik-1]=zadan2[kk-1].text_var;
         }
        }
        Draw_Task1(current_task,Text_Zadan1,Variants_Answ1);
    }
    function Prev_Task()
    {
        let code_task=0; let kk=0; let schetchik=0;
        Get_Current(current_task);
        if (current_task==1)
        {
            current_task=col_tasks;
        }
        else
        {
            current_task=current_task-1;
        }
        code_task=cods_tasks[current_task-1];
        for (kk=1;kk<=zadan1.length;kk=kk+1)
        {
         if (zadan1[kk-1].cod_z1==code_task)
         {
            Text_Zadan1=zadan1[kk-1].text_z;
            verno_var[current_task-1]=zadan1[kk-1].wright_z;
            break;
         }
        }
        alert (Text_Zadan1);
        alert(verno_var[current_task]);
        for (kk=0;kk<=(Variants_Answ1.length-1);kk=kk+1)
        {
            Variants_Answ1.pop();
        }
        for (kk=1;kk<=zadan2.length;kk=kk+1)
        {
         if (zadan2[kk-1].cod_z2==code_task)
         {
            schetchik=schetchik+1;
            Variants_Answ1[schetchik-1]=zadan2[kk-1].text_var;
         }
        }

    }
    ////
    </script>

</body>
